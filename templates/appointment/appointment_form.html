{% extends "layouts/base.html" %}

{% block content %}
<h2>{{ 'Sửa lịch hẹn' if appointment else 'Thêm lịch hẹn' }}</h2>

<form method="POST" class="row g-3">
    <div class="col-md-6">
        <label class="form-label">Bệnh nhân:</label>
        <select class="form-select" name="patient_id" required>
            {% for p in patients %}
            <option value="{{ p.id }}" {% if appointment and p.id == appointment.patient_id %}selected{% endif %}>
                {{ p.name }}
            </option>
            {% endfor %}
        </select>
    </div>
    <div class="col-md-6">
        <label class="form-label">Bác sĩ:</label>
        <select class="form-select" name="doctor_id" required>
            {% for d in doctors %}
            <option value="{{ d.id }}" {% if appointment and d.id == appointment.doctor_id %}selected{% endif %}>
                {{ d.name }}
            </option>
            {% endfor %}
        </select>
    </div>
    <div class="col-md-6">
        <label class="form-label">Ngày hẹn:</label>
        <input class="form-control" type="datetime-local" name="date"
               value="{{ appointment.appointment_date if appointment }}" required>
    </div>
    <div class="col-12">
        <label class="form-label">Mô tả:</label>
        <textarea class="form-control" name="description">{{ appointment.description if appointment }}</textarea>
    </div>
    <div class="col-12">
        <button class="btn btn-primary" type="submit">Lưu</button>
    </div>
</form>
{% endblock %}
